<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Colmenares Saavedra Armijo SPA - Líderes en producción de colmenas de alta genética y servicios de polinización en Chile" />
    <link rel="icon" type="image/png" href="imagenes/logocafe.png" />
    <title>Colmenares Saavedra Armijo SPA</title>
    <!-- Precargar recursos críticos -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/icon?family=Material+Icons" as="style">
    <link rel="preload" href="styless.css" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style">
    
    <!-- Cargar estilos -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="styless.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" />
    
    <!-- Precargar imágenes críticas -->
    <link rel="preload" as="image" href="imagenes/logocafe.png">
    <link rel="preload" as="image" href="imagenes/colema.png">
    <link rel="preload" as="image" href="imagenes/panal.png">
    <link rel="preload" as="image" href="imagenes/camioneta.png">
    <link rel="preload" as="image" href="imagenes/cajas.png">
</head>
<body class="text-secondary">
<header class="bg-secondary text-white shadow-lg">
  <div class="container py-3">
    <div class="d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center">
        <img alt="Logotipo Colmenares Saavedra Armijo SPA - Abeja en un panal" class="h-16 me-2 me-md-3" src="imagenes/logocafe.png" style="height: 3rem; height: clamp(2.5rem, 4vw, 4rem);" />
        <h1 class="fs-5 fs-md-4 fw-bold mb-0 d-none d-sm-block">Colmenares Saavedra Armijo SPA</h1>
        <h1 class="fs-6 fw-bold mb-0 d-block d-sm-none">Colmenares SPA</h1>
      </div>
      
      <!-- Botón hamburguesa para móviles -->
      <button class="navbar-toggler d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <!-- Navegación desktop -->
      <nav class="d-none d-md-block">
        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link text-white hover-accent active" href="#empresa">Quiénes somos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white hover-accent" href="#productos-servicios">Nuestros Servicios</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white hover-accent" href="#blog">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white hover-accent" href="#contacto">Contáctanos</a>
          </li>
          <li class="nav-item">
            <button id="btn-cambiar-idioma" class="nav-traduccion border-0 rounded-pill ms-3 d-flex align-items-center">
              <img src="https://flagcdn.com/w20/es.png" alt="Español" class="me-2">
              <span class="mx-2" style="color: #fff; font-weight: 500;">/</span>
              <img src="https://flagcdn.com/w20/gb.png" alt="English">
            </button>
          </li>
        </ul>
      </nav>
    </div>
    
    <!-- Navegación móvil colapsable -->
    <div class="collapse navbar-collapse d-md-none" id="navbarNav">
      <ul class="nav flex-column mt-3">
        <li class="nav-item">
          <a class="nav-link text-white hover-accent active" href="#empresa">Quienes somos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white hover-accent" href="#productos-servicios">Nuestros Servicios</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white hover-accent" href="#blog">Blog</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white hover-accent" href="#contacto">Contáctanos</a>
        </li>
        <li class="nav-item mt-2">
          <button id="btn-cambiar-idioma-mobile" class="nav-traduccion border-0 rounded-pill d-flex align-items-center">
            <img src="https://flagcdn.com/w20/es.png" alt="Español" class="me-2">
            <span class="mx-2" style="color: #fff; font-weight: 500;">/</span>
            <img src="https://flagcdn.com/w20/gb.png" alt="English">
          </button>
        </li>
      </ul>
    </div>
  </div>
</header>

    <main>
        <section id="hero" class="hero-section text-center text-white d-flex align-items-center justify-content-center">
            <div class="hero-overlay"></div>
            <div class="position-relative z-1 container px-4">
                <h2 class="display-4 display-md-3 display-lg-4 fw-bold mb-3 mb-md-4">Innovación y Calidad en Apicultura</h2>
                <p class="lead mx-auto px-3" style="max-width: 700px;">Líderes en producción de colmenas de alta genética y servicios de polinización.</p>
            </div>
        </section>

        <section id="empresa" class="py-5">
    <div class="container">
        <h2 class="text-center text-accent mb-4 mb-md-5 fs-2 fw-bold">Descripción de la Empresa</h2>
        <div class="row align-items-center gx-4 gx-md-5">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div id="empresaCarousel" class="carousel slide shadow-lg rounded" data-bs-ride="carousel" data-bs-interval="5000">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#empresaCarousel" data-bs-slide-to="0" class="active"></button>
                        <button type="button" data-bs-target="#empresaCarousel" data-bs-slide-to="1"></button>
                        <button type="button" data-bs-target="#empresaCarousel" data-bs-slide-to="2"></button>
                        <button type="button" data-bs-target="#empresaCarousel" data-bs-slide-to="3"></button>
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="imagenes/caarrusel/IMG-20250612-WA0000.jpg" class="d-block w-100 img-fluid rounded" alt="Instalaciones de colmenares" style="aspect-ratio: 16/9; object-fit: cover;" loading="eager">
                        </div>
                        <div class="carousel-item">
                            <img src="imagenes/caarrusel/DJI_0152.JPG" class="d-block w-100 img-fluid rounded" alt="Vista aérea de colmenares" style="aspect-ratio: 16/9; object-fit: cover;" loading="lazy">
                        </div>
                        <div class="carousel-item">
                            <img src="imagenes/caarrusel/IMG-20240727-WA0048.jpg" class="d-block w-100 img-fluid rounded" alt="Colmenas en producción" style="aspect-ratio: 16/9; object-fit: cover;" loading="lazy">
                        </div>
                        <div class="carousel-item">
                            <img src="imagenes/caarrusel/IMG_20250107_211135.jpg" class="d-block w-100 img-fluid rounded" alt="Operaciones apícolas" style="aspect-ratio: 16/9; object-fit: cover;" loading="lazy">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#empresaCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Anterior</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#empresaCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Siguiente</span>
                    </button>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card p-3 p-md-4 border shadow-lg">
                    <p class="lead text-secondary mb-0">
                        Colmenares Saavedra Armijo SPA es una empresa líder en el sector apícola, ubicada en Melipilla y especializada en la producción de colmenas de alta calidad genética y la comercialización de paquetes de abejas y reinas para el mercado nacional e internacional. Nos distinguimos por nuestro compromiso con la excelencia, la trazabilidad y la innovación, garantizando a nuestros clientes soluciones eficientes y sostenibles a través de la apicultura moderna. Con más de 3,500 colmenas operando estratégicamente, ofrecemos servicios de polinización para cultivos agrícolas, asegurando productividad óptima y calidad superior en cada producción.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

        <section id="mision-vision" class="py-5 bg-primary">
            <div class="container">
                <div class="row gx-4 gx-md-5">
                    <div class="col-lg-6 mb-4 mb-lg-0">
                        <div class="card p-3 p-md-4 border shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-primary fs-2 fs-md-1 me-2 me-md-3">flag</span>
                                <h3 class="fs-5 fs-md-4 fw-bold text-accent mb-0">Misión</h3>
                            </div>
                            <p class="lead text-secondary mb-0">
                                Nuestra misión es impulsar el desarrollo de la apicultura mediante la producción de colmenas de alta calidad genética, contribuyendo a la sostenibilidad ambiental y a la eficiencia productiva de nuestros clientes. Apostamos por la innovación, la trazabilidad y la excelencia en cada etapa de nuestra operación, fortaleciendo el sector apícola en Chile y a nivel internacional.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card p-3 p-md-4 border shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-primary fs-2 fs-md-1 me-2 me-md-3">visibility</span>
                                <h3 class="fs-5 fs-md-4 fw-bold text-accent mb-0">Visión</h3>
                            </div>
                            <p class="lead text-secondary mb-0">
                                Ser la empresa apícola de referencia en Chile y en los mercados internacionales, destacando por nuestra calidad genética superior, procesos sustentables y el aporte a la optimización agrícola a través de soluciones de polinización y producción apícola innovadora.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="valores" class="py-5 bg-light">
            <div class="container">
                <h2 class="text-center mb-4 mb-md-5 fs-2 fw-bold text-accent">Nuestros Valores</h2>
                <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 g-md-4">
                    <div class="col">
                        <div class="card p-3 p-md-4 border-top-primary shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-accent fs-4 fs-md-3 me-2 me-md-3">star</span>
                                <h4 class="fs-6 fs-md-5 fw-semibold text-accent mb-0">Calidad y Excelencia</h4>
                            </div>
                            <p class="text-secondary mb-0">Comprometidos con ofrecer productos y servicios de alto rendimiento.</p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 border-top-primary shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-accent fs-4 fs-md-3 me-2 me-md-3">search</span>
                                <h4 class="fs-6 fs-md-5 fw-semibold text-accent mb-0">Transparencia y Trazabilidad</h4>
                            </div>
                            <p class="text-secondary mb-0">Garantizamos procesos controlados y certificados.</p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 border-top-primary shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-accent fs-4 fs-md-3 me-2 me-md-3">eco</span>
                                <h4 class="fs-6 fs-md-5 fw-semibold text-accent mb-0">Sostenibilidad</h4>
                            </div>
                            <p class="text-secondary mb-0">Aplicamos prácticas responsables para reducir el impacto ambiental.</p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 border-top-primary shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-accent fs-4 fs-md-3 me-2 me-md-3">people</span>
                                <h4 class="fs-6 fs-md-5 fw-semibold text-accent mb-0">Compromiso con el Cliente</h4>
                            </div>
                            <p class="text-secondary mb-0">Brindamos asesoría técnica especializada para maximizar los resultados de nuestros aliados apícolas.</p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 border-top-primary shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-accent fs-4 fs-md-3 me-2 me-md-3">lightbulb</span>
                                <h4 class="fs-6 fs-md-5 fw-semibold text-accent mb-0">Innovación Constante</h4>
                            </div>
                            <p class="text-secondary mb-0">Buscamos nuevas formas de mejorar y expandir la apicultura en Chile y en el mundo.</p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 border-top-primary shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <img alt="Abeja icono" class="me-2 me-md-3" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDE6JFzZ9zXkMYD2Syu3gNu_zT1eDJaLSbAvEGsXXur-kXhp-zUTG48XkSz8AtTRbY1DeR4ufFtHNxc5eYTLekAcZPT7zyJFvr-rCqwMe7xKImVLidepCg_x1hub3P8YQqKnKjd15jRz-N47S-RkoH4rlNNkon-8zq7lXTMTEJRJNt93N66R_ZvlJ39q9bmDMOeSz93mieFzgkbFW4SbvmBTz-2ASeL0rPk-ZGbOV_H7ZnnH2bbJXskgL8ZMJ4LNT0Uz69r1RqNBsAD" style="width: 1.5rem; height: 1.5rem; width: clamp(1.5rem, 3vw, 2rem); height: clamp(1.5rem, 3vw, 2rem);"/>
                                <h4 class="fs-6 fs-md-5 fw-semibold text-accent mb-0">Pasión por las Abejas</h4>
                            </div>
                            <p class="text-secondary mb-0">Cuidamos de nuestras abejas con dedicación y respeto, reconociendo su rol vital.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="productos-servicios" class="py-5 bg-primary text-white"> 
            <div class="container">
                <div class="text-center mb-4 mb-md-5">
                    <h2 class="display-4 display-md-3 display-lg-4 fw-bold text-white mb-3">Nuestros Productos y Servicios</h2>
                    <div class="d-flex justify-content-center">
                        <div class="border-bottom border-3 border-white" style="width: 100px;"></div>
                    </div>
                </div>
                <div class="row row-cols-1 row-cols-md-2 g-3 g-md-4">
                    <div class="col">
                        <div class="card p-3 p-md-4 text-dark shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-primary fs-2 fs-md-1 me-2 me-md-3">hive</span>
                                <h4 class="fs-5 fs-md-4 fw-bold text-accent mb-0">Venta de paquetes de abejas y reinas</h4>
                            </div>
                            <p class="lead text-secondary mb-0">
                                Genética adaptada a condiciones exigentes, asegurando colmenas productivas y de alta calidad para el mercado nacional e internacional.
                            </p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 text-dark shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-primary fs-2 fs-md-1 me-2 me-md-3">local_florist</span>
                                <h4 class="fs-5 fs-md-4 fw-bold text-accent mb-0">Servicios de polinización</h4>
                            </div>
                            <p class="lead text-secondary mb-0">
                                Optimización de cultivos agrícolas mediante colmenas de alto rendimiento, garantizando una polinización efectiva y resultados excepcionales.
                            </p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 text-dark shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-primary fs-2 fs-md-1 me-2 me-md-3">solar_power</span>
                                <h4 class="fs-5 fs-md-4 fw-bold text-accent mb-0">Autonomía energética con sistema fotovoltaico</h4>
                            </div>
                            <p class="lead text-secondary mb-0">
                                Incorporamos energía limpia y eficiente para nuestras operaciones apícolas, contribuyendo a un futuro más sostenible.
                            </p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card p-3 p-md-4 text-dark shadow-lg h-100">
                            <div class="d-flex align-items-center mb-3">
                                <span class="material-icons text-primary fs-2 fs-md-1 me-2 me-md-3">public</span>
                                <h4 class="fs-5 fs-md-4 fw-bold text-accent mb-0">Exportación de material vivo</h4>
                            </div>
                            <p class="lead text-secondary mb-0">
                                Cumplimos con estándares internacionales, asegurando calidad y trazabilidad para el mercado global con los más altos niveles de excelencia.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="blog" class="py-5 bg-light">
      <div class="container">
        <h2 class="text-center text-accent mb-3 mb-md-4 fs-2 fw-bold">Últimas Publicaciones</h2>
        <p class="lead text-center mb-4 mb-md-5 text-secondary px-3">
          Descubre consejos, noticias y más sobre apicultura moderna.
        </p>

        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 g-md-4 mb-4" id="ultimasPublicacionesContainer">
          <!-- Las publicaciones se cargarán dinámicamente aquí -->
        </div>

        <!-- Botón que enlaza al blog completo -->
        <div class="text-center mt-4">
          <a href="blog.html" class="btn btn-primary btn-lg custom-btn-primary">
            Ver todas las publicaciones
          </a>
        </div>
      </div>
    </section>
    </main>

    <section id="contacto" class="py-5 bg-primary text-white">
        <div class="container">
            <div class="text-center mb-4 mb-md-5">
                <h2 class="display-4 display-md-3 display-lg-4 fw-bold text-white mb-3">Contáctanos</h2>
                <div class="d-flex justify-content-center">
                    <div class="border-bottom border-3 border-white" style="width: 100px;"></div>
                </div>
                <p class="lead text-white mt-3 px-3">¿Tienes alguna consulta? Estamos aquí para ayudarte.</p>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-lg-8 col-md-10">
                    <div class="card shadow-lg border-0">
                        <div class="card-body p-3 p-md-4">
                            <form id="contactForm" class="needs-validation" novalidate>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="nombre" class="form-label">Nombre completo</label>
                                        <input type="text" class="form-control" id="nombre" required>
                                        <div class="invalid-feedback">
                                            Por favor ingresa tu nombre.
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="email" class="form-label">Correo electrónico</label>
                                        <input type="email" class="form-control" id="email" required>
                                        <div class="invalid-feedback">
                                            Por favor ingresa un correo electrónico válido.
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <label for="telefono" class="form-label">Teléfono</label>
                                        <input type="tel" class="form-control" id="telefono">
                                    </div>
                                    <div class="col-12">
                                        <label for="asunto" class="form-label">Asunto</label>
                                        <select class="form-select" id="asunto" required>
                                            <option value="" selected disabled>Selecciona un asunto</option>
                                            <option value="venta">Venta de colmenas</option>
                                            <option value="polinizacion">Servicios de polinización</option>
                                            <option value="exportacion">Exportación</option>
                                            <option value="otro">Otro</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor selecciona un asunto.
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <label for="mensaje" class="form-label">Mensaje</label>
                                        <textarea class="form-control" id="mensaje" rows="4" required></textarea>
                                        <div class="invalid-feedback">
                                            Por favor ingresa tu mensaje.
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button type="submit" class="btn btn-primary btn-lg w-100">
                                            Enviar mensaje
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-secondary text-white py-5">
        <div class="container text-center">
            <div class="mb-4">
                <img alt="Logotipo Colmenares Saavedra Armijo SPA en pie de página - Abeja dorada" class="mb-3" src="imagenes/logocafe.png" style="height: clamp(2.5rem, 6vw, 3.5rem);"/>
                <p class="fs-5 fs-md-4 fw-semibold mb-0">Colmenares Saavedra Armijo SPA</p>
                <p class="fs-6">Melipilla, Chile</p>
            </div>
            <div class="mb-4 fs-6 fs-md-5">
                <a href="mailto:contacto@colmenaressaavedra.cl" class="text-white text-decoration-none">contacto@colmenaressaavedra.cl</a>
                <span class="mx-2 mx-md-3 d-none d-md-inline">|</span>
                <br class="d-md-none">
                <a href="tel:+56912345678" class="text-white text-decoration-none">+56 9 1234 5678</a>
            </div>
            
            <!-- Redes Sociales -->
            <div class="mb-4">
                <div class="social-links d-flex justify-content-center gap-3">
                    <a href="https://www.instagram.com/colmenares.saavedra/" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="Síguenos en Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://wa.me/56912345678" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="Contáctanos por WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
            </div>
            
            <p class="fs-6 mb-0">&copy; 2025 Colmenares Saavedra Armijo SPA. Todos los derechos reservados.</p>
        </div>
    </footer>

    <button id="btn-volver-arriba" class="btn custom-btn-primary rounded-circle position-fixed bottom-0 end-0 m-3 m-md-4 d-flex align-items-center justify-content-center" style="width: clamp(3rem, 8vw, 4rem); height: clamp(3rem, 8vw, 4rem);">
        <span class="material-icons" style="font-size: clamp(1.25rem, 3vw, 1.5rem);">arrow_upward</span>
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous" defer></script>
    <script src="config/ngrok-config.js"></script>
    
    <!-- Script para el botón volver arriba y desplazamiento suave -->
    <script>
        // Cargar el script después de que el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
            // Manejar el desplazamiento suave para los enlaces del menú
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        const headerOffset = 80;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Mostrar/ocultar botón según el scroll
            window.onscroll = function() {
                const btn = document.getElementById('btn-volver-arriba');
                if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                    btn.style.display = "flex";
                    btn.style.opacity = "1";
                } else {
                    btn.style.opacity = "0";
                    setTimeout(() => {
                        if (document.body.scrollTop <= 300 && document.documentElement.scrollTop <= 300) {
                            btn.style.display = "none";
                        }
                    }, 300);
                }
            };

            // Función para volver arriba
            document.getElementById('btn-volver-arriba').addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Validación y envío del formulario de contacto
            var forms = document.querySelectorAll('.needs-validation');
            Array.prototype.slice.call(forms).forEach(function (form) {
                form.addEventListener('submit', async function (event) {
                    event.preventDefault();
                    
                    if (!form.checkValidity()) {
                        event.stopPropagation();
                        form.classList.add('was-validated');
                        return;
                    }
                    
                    form.classList.add('was-validated');
                    
                    // Si es el formulario de contacto, manejarlo específicamente
                    if (form.id === 'contactForm') {
                        await handleContactForm(form);
                    }
                }, false);
            });

            // Función para manejar el envío del formulario de contacto
            async function handleContactForm(form) {
                const submitButton = form.querySelector('button[type="submit"]');
                const originalText = submitButton.innerHTML;
                
                try {
                    // Deshabilitar el botón y mostrar estado de carga
                    submitButton.disabled = true;
                    submitButton.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Enviando...';
                    
                    // Obtener los datos del formulario
                    const formData = {
                        nombre: form.querySelector('#nombre').value.trim(),
                        email: form.querySelector('#email').value.trim(),
                        telefono: form.querySelector('#telefono').value.trim(),
                        asunto: form.querySelector('#asunto').value,
                        mensaje: form.querySelector('#mensaje').value.trim()
                    };
                    
                    // Enviar al backend
                    const response = await fetch(`${window.ngrokConfig ? window.ngrokConfig.getBaseURL() : 'http://localhost:8080'}/api/contact`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(formData)
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        // Mostrar mensaje de éxito
                        showAlert('¡Mensaje enviado correctamente! Nos pondremos en contacto contigo pronto.', 'success');
                        form.reset();
                        form.classList.remove('was-validated');
                    } else {
                        // Mostrar mensaje de error
                        showAlert(result.message || 'Error al enviar el mensaje. Por favor, intenta nuevamente.', 'danger');
                    }
                } catch (error) {
                    console.error('Error al enviar formulario:', error);
                    showAlert('Error de conexión. Por favor, verifica tu conexión a internet e intenta nuevamente.', 'danger');
                } finally {
                    // Restaurar el botón
                    submitButton.disabled = false;
                    submitButton.innerHTML = originalText;
                }
            }

            // Función para mostrar alertas
            function showAlert(message, type) {
                // Crear el elemento de alerta
                const alertDiv = document.createElement('div');
                alertDiv.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
                alertDiv.style.cssText = 'top: 20px; right: 20px; z-index: 9999; max-width: 400px;';
                alertDiv.innerHTML = `
                    ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                `;
                
                // Agregar al body
                document.body.appendChild(alertDiv);
                
                // Remover automáticamente después de 5 segundos
                setTimeout(() => {
                    if (alertDiv.parentNode) {
                        alertDiv.remove();
                    }
                }, 5000);
            }

            // Animación de las tarjetas del blog
            function animateCards() {
                const blogSection = document.getElementById('blog');
                const cards = document.querySelectorAll('.blog-card');
                
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            if (entry.target.id === 'blog') {
                                entry.target.classList.add('animate');
                            } else {
                                entry.target.classList.add('animate');
                            }
                            observer.unobserve(entry.target);
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: '0px'
                });

                // Observar la sección completa
                if (blogSection) {
                    observer.observe(blogSection);
                }

                // Observar las tarjetas individuales
                cards.forEach(card => {
                    observer.observe(card);
                });
            }

            // Iniciar la animación cuando el DOM esté listo
            animateCards();
        });
    </script>

    <script>
    // Script para cargar las últimas 3 publicaciones dinámicamente
      document.addEventListener('DOMContentLoaded', async function() {
        const container = document.getElementById('ultimasPublicacionesContainer');
        if (!container) return;

        // Función para generar slug amigable
        function generateSlug(text) {
          if (!text) return '';
          return text
            .toLowerCase()
            .normalize('NFD')
            .replace(/[^a-z0-9\s-]/g, '')
            .replace(/[\u0300-\u036f]/g, '')
            .replace(/\s+/g, '-')
            .replace(/-+/g, '-')
            .trim('-');
        }
        // Función para generar URL igual que en blog.html/backend
        function generatePostUrl(slug, categorias) {
          if (categorias && categorias.length > 0) {
            const categoriaSlug = generateSlug(categorias[0]);
            return `${slug}/${categoriaSlug}`;
          }
          return slug;
        }

        try {
          const response = await fetch(`${window.ngrokConfig ? window.ngrokConfig.getBaseURL() : 'http://localhost:8080'}/api/posts/recent`);
          if (!response.ok) throw new Error('Error al cargar publicaciones');
          const posts = await response.json();
          if (!posts || posts.length === 0) {
            container.innerHTML = `<div class='col-12 text-center'><div class='alert alert-info'>Sin publicaciones</div></div>`;
            return;
          }
          // Solo las 3 más recientes
          const ultimos = posts.slice(0, 3);
          container.innerHTML = ultimos.map(post => {
            const imagen = post.imagen_principal ? post.imagen_principal : 'imagenes/panal.png';
            const contenidoLimpio = post.contenido.replace(/<[^>]*>/g, '').substring(0, 150);
            const fecha = new Date(post.fecha_publicacion).toLocaleDateString('es-ES', {
              day: 'numeric', month: 'long', year: 'numeric'
            });
            const categorias = post.categorias ? post.categorias.split(',') : [];
            const postUrl = `/blog/${generatePostUrl(post.slug, categorias)}`;
            return `
              <div class="col">
                <div class="card blog-card shadow-lg h-100">
                  <img src="${imagen}" class="card-img-top" style="height: 224px; object-fit: cover;" alt="${post.titulo}" loading="lazy">
                  <div class="card-body">
                    <div class="d-flex gap-2 mb-2">
                      ${categorias.map(cat => `<span class='badge bg-secondary'>${cat.trim()}</span>`).join('')}
                    </div>
                    <small class="text-muted">${fecha}</small>
                    <h4 class="card-title text-accent my-2 fs-5 fw-semibold">${post.titulo}</h4>
                    <p class="card-text text-secondary">
                      ${contenidoLimpio}...
                    </p>
                    <a href="${postUrl}" class="read-more">
                      Leer más <span class="material-icons align-middle fs-6">arrow_forward</span>
                    </a>
                  </div>
                </div>
              </div>
            `;
          }).join('');
        } catch (error) {
          container.innerHTML = `<div class='col-12 text-center'><div class='alert alert-danger'>No se pudieron cargar las publicaciones</div></div>`;
        }
      });
    </script>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="loginModalLabel">Iniciar Sesión</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="loginForm">
              <div class="mb-3">
                <label for="username" class="form-label">Usuario</label>
                <input type="text" class="form-control" id="username" required>
              </div>
              <div class="mb-3">
                <label for="password" class="form-label">Contraseña</label>
                <input type="password" class="form-control" id="password" required>
              </div>
              <div class="alert alert-danger d-none" id="loginError"></div>
            </form>
            <div class="text-center mt-3">
              <a href="#" id="forgotPasswordLink" class="text-secondary">¿Olvidaste tu contraseña?</a>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-secondary" id="loginButton">Iniciar Sesión</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Funcionalidad de login con Ctrl+L
      document.addEventListener('DOMContentLoaded', function() {
        // Event listener para Ctrl+L
        document.addEventListener('keydown', function(e) {
          if (e.ctrlKey && e.key === 'l') {
            e.preventDefault();
            const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
            loginModal.show();
          }
        });

        // Funcionalidad del formulario de login
        const loginForm = document.getElementById('loginForm');
        const loginButton = document.getElementById('loginButton');
        const loginError = document.getElementById('loginError');

        // Función para manejar el login
        const handleLogin = async () => {
          const username = document.getElementById('username').value;
          const password = document.getElementById('password').value;

          try {
            const response = await fetch(`${window.ngrokConfig ? window.ngrokConfig.getBaseURL() : 'http://localhost:8080'}/api/login`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({ username, password })
            });

            const data = await response.json();

            if (data.success) {
              if (data.user.role === 'admin') {
                localStorage.setItem('username', username);
                localStorage.setItem('password', password);
                window.location.href = 'admin.html';
              } else {
                loginError.textContent = 'No tienes permisos de administrador';
                loginError.classList.remove('d-none');
              }
            } else {
              loginError.textContent = 'Credenciales inválidas';
              loginError.classList.remove('d-none');
            }
          } catch (error) {
            loginError.textContent = 'Error al conectar con el servidor';
            loginError.classList.remove('d-none');
          }
        };

        // Event listener para el botón de login
        loginButton.addEventListener('click', handleLogin);

        // Event listener para el formulario (Enter key)
        loginForm.addEventListener('submit', (e) => {
          e.preventDefault();
          handleLogin();
        });

        // Event listeners para campos de entrada (Enter key)
        document.getElementById('username').addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            document.getElementById('password').focus();
          }
        });

        document.getElementById('password').addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            handleLogin();
          }
        });
      });
    </script>

    <!-- Modal: Solicitar recuperación de contraseña -->
    <div class="modal fade" id="forgotPasswordModal" tabindex="-1" aria-labelledby="forgotPasswordModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="forgotPasswordModalLabel">Recuperar contraseña</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-body">
            <form id="forgotPasswordForm">
              <div class="mb-3">
                <label for="forgotCorreo" class="form-label">Correo electrónico</label>
                <input type="email" class="form-control" id="forgotCorreo" required>
              </div>
              <div class="alert alert-info d-none" id="forgotPasswordMsg"></div>
              <button type="button" class="btn btn-secondary w-100" id="enviarCodigoBtn">Enviar código</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: Ingresar código de recuperación -->
    <div class="modal fade" id="verifyTokenModal" tabindex="-1" aria-labelledby="verifyTokenModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="verifyTokenModalLabel">Verifica tu código</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-body">
            <form id="verifyTokenForm">
              <div class="mb-3">
                <label for="verifyToken" class="form-label">Código recibido</label>
                <input type="text" class="form-control" id="verifyToken" required>
              </div>
              <div class="alert alert-info d-none" id="verifyTokenMsg"></div>
              <button type="button" class="btn btn-secondary w-100" id="verificarCodigoBtn">Verificar código</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: Nueva contraseña -->
    <div class="modal fade" id="resetPasswordModal" tabindex="-1" aria-labelledby="resetPasswordModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="resetPasswordModalLabel">Nueva contraseña</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-body">
            <form id="resetPasswordForm">
              <div class="mb-3">
                <label for="resetPassword" class="form-label">Nueva contraseña</label>
                <input type="password" class="form-control" id="resetPassword" required>
              </div>
              <div class="alert alert-info d-none" id="resetPasswordMsg"></div>
              <button type="button" class="btn btn-secondary w-100" id="cambiarContrasenaBtn">Cambiar contraseña</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Lógica de recuperación de contraseña
      document.addEventListener('DOMContentLoaded', function() {
        // Mostrar modal de recuperación
        const forgotPasswordLink = document.getElementById('forgotPasswordLink');
        const forgotPasswordModal = new bootstrap.Modal(document.getElementById('forgotPasswordModal'));
        const verifyTokenModal = new bootstrap.Modal(document.getElementById('verifyTokenModal'));
        const resetPasswordModal = new bootstrap.Modal(document.getElementById('resetPasswordModal'));

        let correoRecuperacion = null;

        // Paso 1: Solicitar correo
        forgotPasswordLink.addEventListener('click', function(e) {
          e.preventDefault();
          document.getElementById('forgotPasswordForm').reset();
          document.getElementById('forgotPasswordMsg').classList.add('d-none');
          correoRecuperacion = null;
          forgotPasswordModal.show();
        });

        document.getElementById('enviarCodigoBtn').addEventListener('click', async function(e) {
          e.preventDefault();
          const correo = document.getElementById('forgotCorreo').value;
          correoRecuperacion = correo;
          const msg = document.getElementById('forgotPasswordMsg');
          msg.classList.add('d-none', 'alert-danger', 'alert-info');
          try {
            const response = await fetch(`${window.ngrokConfig ? window.ngrokConfig.getBaseURL() : 'http://localhost:8080'}/api/forgot-password`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ correo })
            });
            const data = await response.json();
            msg.textContent = data.message;
            msg.classList.remove('d-none');
            if (data.success) {
              msg.classList.remove('alert-danger');
              msg.classList.add('alert-info');
              setTimeout(() => {
                forgotPasswordModal.hide();
                document.getElementById('verifyTokenForm').reset();
                document.getElementById('verifyTokenMsg').classList.add('d-none');
                verifyTokenModal.show();
              }, 1500);
            } else {
              msg.classList.remove('alert-info');
              msg.classList.add('alert-danger');
              // Botón para volver al index
              msg.innerHTML += '<br><button id="volverIndexBtn" class="btn btn-outline-primary mt-3">Volver al inicio</button>';
              document.getElementById('volverIndexBtn').onclick = function() {
                window.location.href = "index1.html";
              };
            }
          } catch (error) {
            msg.textContent = 'Error al solicitar recuperación.';
            msg.classList.remove('d-none', 'alert-info');
            msg.classList.add('alert-danger');
          }
        });

        document.getElementById('verificarCodigoBtn').addEventListener('click', async function(e) {
          e.preventDefault();
          const token = document.getElementById('verifyToken').value;
          const msg = document.getElementById('verifyTokenMsg');
          msg.classList.add('d-none');
          try {
            const response = await fetch(`${window.ngrokConfig ? window.ngrokConfig.getBaseURL() : 'http://localhost:8080'}/api/verify-reset-token`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ correo: correoRecuperacion, token })
            });
            const data = await response.json();
            msg.textContent = data.message;
            msg.classList.remove('d-none');
            if (data.success) {
              setTimeout(() => {
                verifyTokenModal.hide();
                document.getElementById('resetPasswordForm').reset();
                document.getElementById('resetPasswordMsg').classList.add('d-none');
                resetPasswordModal.show();
                // Guardar token para el siguiente paso
                resetPasswordModal.token = token;
              }, 1000);
            }
          } catch (error) {
            msg.textContent = 'Error al verificar el código.';
            msg.classList.remove('d-none');
          }
        });

        document.getElementById('cambiarContrasenaBtn').addEventListener('click', async function(e) {
          e.preventDefault();
          const nuevaPassword = document.getElementById('resetPassword').value;
          const msg = document.getElementById('resetPasswordMsg');
          msg.classList.add('d-none');
          try {
            const response = await fetch(`${window.ngrokConfig ? window.ngrokConfig.getBaseURL() : 'http://localhost:8080'}/api/reset-password`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ correo: correoRecuperacion, token: resetPasswordModal.token, nuevaPassword })
            });
            const data = await response.json();
            msg.textContent = data.message;
            msg.classList.remove('d-none');
            if (data.success) {
              setTimeout(() => {
                resetPasswordModal.hide();
                alert('¡Contraseña cambiada con éxito! Ahora puedes iniciar sesión.');
              }, 1500);
            }
          } catch (error) {
            msg.textContent = 'Error al cambiar la contraseña.';
            msg.classList.remove('d-none');
          }
        });
      });
    </script>
</body>
</html>